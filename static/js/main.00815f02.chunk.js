(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{1064:function(e,t,n){"use strict";n.r(t);var c,r,a=n(11),i=n.n(a),s=n(424),o=n.n(s),u=(n(443),n(90)),l=n(30),d=n(39),j=n(3),b=n(53),h=n(68),p=n(61),f=n.n(p),O=n(428),x=n.n(O),v=n(430),m=n.n(v),g=function(e,t){switch(t.type){case"SET_WALLET":return Object(d.a)(Object(d.a)({},e),{},{wallet:t.payload});case"SET_PROVIDER":return Object(d.a)(Object(d.a)({},e),{},{provider:t.payload});case"SET_WEB3":return Object(d.a)(Object(d.a)({},e),{},{web3:t.payload});default:return e}},w=n(10),y={loading:!1,wallet:null,provider:null,web3:null},k=new m.a({providerOptions:{cacheProvider:!0}}),I=Object(a.createContext)(y),E=function(e){var t=e.children,n=Object(a.useReducer)(g,y),c=Object(h.a)(n,2),r=c[0],i=c[1],s=function(e){i({type:"SET_WALLET",payload:e})},o=function(e){i({type:"SET_PROVIDER",payload:e})},u=function(e){i({type:"SET_WEB3",payload:e})},l=function(){var e=r.web3,t=r.provider;t.close&&t.close(),e&&e.currentProvider&&e.currentProvider.close&&e.currentProvider.close(),s(null),o(null),u(null)},p=function(e){var t=new x.a(e);return t.eth.extend({methods:[{name:"chainId",call:"eth_chainId",outputFormatter:t.utils.hexToNumber}]}),t},f=function(){var e=Object(b.a)(Object(j.a)().mark((function e(t,n,c,a){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.on){e.next=2;break}return e.abrupt("return");case 2:a.on("close",Object(b.a)(Object(j.a)().mark((function e(){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l();case 1:case"end":return e.stop()}}),e)})))),a.on("accountsChanged",function(){var e=Object(b.a)(Object(j.a)().mark((function e(t){var n,a,i;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.wallet,t[0]){e.next=5;break}l(),e.next=10;break;case 5:return a=t[0].toLowerCase(),e.next=8,c.eth.getBalance(a);case 8:i=e.sent,s(Object(d.a)(Object(d.a)({},n),{},{address:a,balance:i}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.on("chainChanged",function(){var e=Object(b.a)(Object(j.a)().mark((function e(t){var n,a,i;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.wallet,e.next=3,c.eth.chainId();case 3:return a=e.sent,e.next=6,c.eth.getBalance(n.data.address);case 6:i=e.sent,s(Object(d.a)(Object(d.a)({},n),{},{chainId:a,balance:i}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}}),e)})));return function(t,n,c,r){return e.apply(this,arguments)}}(),O=Object(a.useCallback)(Object(b.a)(Object(j.a)().mark((function e(){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:case"end":return e.stop()}}),e)}))),[]),v=function(){var e=Object(b.a)(Object(j.a)().mark((function e(){var t,n,c,r,a,i,l;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.connect();case 3:return t=e.sent,o(t),n=p(t),u(n),e.next=9,n.eth.getAccounts();case 9:return c=e.sent,r=c[0].toLowerCase(),e.next=13,n.eth.chainId();case 13:return a=e.sent,e.next=16,n.eth.getBalance(r);case 16:i=e.sent,s(l={address:r,chainId:a,balance:i}),f(l,k,n,t),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){k.cachedProvider&&v()}),[]),Object(w.jsx)(I.Provider,{value:Object(d.a)(Object(d.a)({},r),{},{connectWeb3:O,logout:l}),children:t})},S=function(e){var t=e.contract,n=e.name,c=e.thumb,r=e.price,a=e.chainId,i=e.onBuy,s=e.tokenID,o=e.onList,l=f.a.utils.findChainById(a);return Object(w.jsxs)("div",{className:"item",style:{border:"1px solid",padding:"10px",margin:"10px",alignItems:"center"},children:[Object(w.jsxs)(u.b,{to:"/token/".concat(a,"/").concat(t.address,"/").concat(s),style:{color:"black"},children:[Object(w.jsx)("div",{style:{width:"200px",height:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(w.jsx)("img",{src:c,alt:"",style:{maxWidth:"200px",maxHeight:"200px"}})}),Object(w.jsx)("h3",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"200px"},children:t.name}),Object(w.jsx)("h5",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"200px"},children:n}),Object(w.jsx)("p",{children:r}),Object(w.jsx)("p",{children:l.name})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{type:"button",onClick:i,children:"Buy"}),Object(w.jsx)("button",{type:"button",onClick:o,children:"List"})]})]})},C=[{chainId:"",name:"All"},{chainId:1,name:"Ethereum"},{chainId:137,name:"Polygon"},{chainId:56,name:"BNB"},{chainId:43114,name:"Avalanche"},{chainId:1285,name:"Moonriver"},{chainId:4,name:"rinkeby"}],T=[{value:"listed_desc",label:"Recently Listed"},{value:"created_desc",label:"Recently Minted"},{value:"sold_desc",label:"Recently Sold"},{value:"price_asc",label:"Price (Lowest to highest)"},{value:"price_desc",label:"Price (Highest to lowest)"},{value:"last_sell_desc",label:"Highest Last Sale"}],L=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),s=Object(h.a)(i,2),o=s[0],u=s[1],p=Object(a.useState)(""),O=Object(h.a)(p,2),x=O[0],v=O[1],m=Object(a.useState)("listed_desc"),g=Object(h.a)(m,2),y=g[0],k=g[1],E=Object(l.f)(),L=E.contractAddress,_=E.chainId,A=E.userAddress,W=Object(a.useContext)(I),B=W.wallet,P=W.web3,R=(W.provider,W.connectWeb3);W.logout;Object(a.useEffect)((function(){var e={sort:y,contractAddress:L,connectedChainId:_,address:A};y&&(e.sort=y),o&&(e.chains=[o]),x&&(e.search=x),(c=new f.a({key:"test",env:f.a.envs.TESTNET})).getNFTs(e).then((function(e){r(e.data)})).catch((function(e){console.log("e",e)}))}),[x,o,y]);var M,N=function(){var e=Object(b.a)(Object(j.a)().mark((function e(t,n){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.initWallet(P,f.a.networkTypes.EVM),c.setStatusListener((function(e){return console.log(e)})),e.next=4,c.list(t,"0.01");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsx)("header",{children:B?(M=B.address,M&&"".concat(M.substring(0,5),"...").concat(M.substring(M.length-4,M.length))):Object(w.jsx)("button",{type:"button",onClick:R,children:"Connect to MetaMask"})}),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[Object(w.jsxs)("form",{name:"marketplace",id:"marketplace",children:[Object(w.jsx)("select",{id:"chains",name:"chainList",form:"marketplace",onChange:function(e){return u(e.target.value)},style:{height:"30px",width:"200px",marginRight:"10px"},children:C.map((function(e){return Object(w.jsx)("option",{value:e.chainId,children:e.name},e.chainId)}))}),Object(w.jsx)("select",{id:"sort",name:"sort options",form:"marketplace",onChange:function(e){return k(e.target.value)},style:{height:"30px",width:"200px",marginRight:"10px"},children:T.map((function(e){return Object(w.jsx)("option",{value:e.value,children:e.label},e.value)}))}),Object(w.jsx)("input",{onChange:function(e){return v(e.target.value)},placeholder:"Search",style:{height:"30px",width:"200px",marginRight:"10px"}})]}),L&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{children:"Contact Address: "}),Object(w.jsx)("p",{children:L})]}),A&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{children:"User Address :"}),Object(w.jsx)("p",{children:A})]})]}),Object(w.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:n.map((function(e){return Object(w.jsx)(S,Object(d.a)(Object(d.a)({},e),{},{onBuy:function(){return t=e.orderId,void c.getListing(t).then(function(){var e=Object(b.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.initWallet(P,f.a.networkTypes.EVM),c.setStatusListener((function(e){return console.log(e)})),c.buy(t.data).then((function(e){console.log("Bought!")})).catch((function(e){return alert(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t},onList:function(){return N(e)}}))}))})]})]})},_=function(){var e=Object(l.f)(),t=e.contractAddress,n=e.chainId,c=e.tokenID,i=Object(a.useState)([]),s=Object(h.a)(i,2),o=s[0],d=s[1],p=Object(a.useState)(!1),O=Object(h.a)(p,2),x=O[0],v=(O[1],Object(a.useContext)(I).web3);Object(a.useEffect)((function(){(r=new f.a({marketplace:"test",env:f.a.envs.TESTNET})).getNFT(t,c,n).then((function(e){d(e.data)}))}),[]);var m=function(){var e=Object(b.a)(Object(j.a)().mark((function e(t,n){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.initWallet(v,f.a.networkTypes.EVM),r.setStatusListener((function(e){return console.log(e)})),e.next=4,r.list(t,"0.01");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{children:o&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("img",{src:o.preview,alt:o.name,style:{maxWidth:"300px",maxHeight:"300px"}}),Object(w.jsx)(u.b,{to:"/collection/".concat(n,"/").concat(t),children:Object(w.jsx)("h1",{children:o.contractName})}),Object(w.jsx)("h2",{children:o.name}),Object(w.jsxs)("h3",{children:["Price:",o.price]}),Object(w.jsxs)("h5",{children:["Description:",o.description]}),Object(w.jsxs)("div",{children:[x&&Object(w.jsx)("button",{onClick:m,type:"button",children:"List"}),Object(w.jsx)("button",{onClick:function(e){r.getListing(e).then(function(){var e=Object(b.a)(Object(j.a)().mark((function e(t){return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.initWallet(v,f.a.networkTypes.EVM),r.setStatusListener((function(e){return console.log(e)})),e.next=4,r.buy(t.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},type:"button",children:"Buy"}),Object(w.jsx)("button",{onClick:function(){console.log("offer")},type:"button",children:"Offer"})]}),Object(w.jsx)("div",{children:o.attributes&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"Attributes:"}),o.attributes.map((function(e){return Object(w.jsxs)("div",{children:[e.trait_type,":",e.value]})}))]})})]})})},A=function(){return Object(w.jsx)(u.a,{children:Object(w.jsxs)(l.c,{children:[Object(w.jsx)(l.a,{path:"/user/:chainId/:userAddress",children:Object(w.jsx)(L,{})}),Object(w.jsx)(l.a,{path:"/token/:chainId/:contractAddress/:tokenID",children:Object(w.jsx)(_,{})}),Object(w.jsx)(l.a,{path:"/collection/:chainId/:contractAddress",children:Object(w.jsx)(L,{})}),Object(w.jsx)(l.a,{path:"/",children:Object(w.jsx)(L,{})})]})})};o.a.createRoot(document.getElementById("root")).render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(E,{children:Object(w.jsx)(A,{})})}))},443:function(e,t,n){},494:function(e,t){},497:function(e,t){},500:function(e,t){},504:function(e,t){},530:function(e,t){},532:function(e,t){},541:function(e,t){},543:function(e,t){},552:function(e,t){},554:function(e,t){},595:function(e,t){},596:function(e,t){},646:function(e,t){},648:function(e,t){},676:function(e,t){},678:function(e,t){},679:function(e,t){},684:function(e,t){},686:function(e,t){},692:function(e,t){},694:function(e,t){},713:function(e,t){},725:function(e,t){},728:function(e,t){},758:function(e,t){},760:function(e,t){},767:function(e,t){},768:function(e,t){},891:function(e,t){},893:function(e,t){},973:function(e,t){}},[[1064,1,2]]]);
//# sourceMappingURL=main.00815f02.chunk.js.map