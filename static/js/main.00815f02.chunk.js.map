{"version":3,"sources":["components/Marketplace.jsx","components/AssetToken.jsx","web3/reducer.js","web3/index.js","components/Token.jsx","App.jsx","index.js"],"names":["nifty","Web3Reducer","state","action","type","wallet","payload","provider","web3","initialState","loading","web3Modal","Web3Modal","providerOptions","cacheProvider","Web3Context","createContext","Web3Provider","children","useReducer","dispatch","setWallet","setProvider","setWeb3","logout","close","currentProvider","initWeb3","Web3","eth","extend","methods","name","call","outputFormatter","utils","hexToNumber","subscribeProvider","data","on","accounts","address","toLowerCase","getBalance","balance","chainId","newChainId","connectWeb3","useCallback","connect","getAccounts","console","error","useEffect","cachedProvider","Provider","value","Token","contract","thumb","price","onBuy","tokenID","onList","chain","Nifty","findChainById","className","style","border","padding","margin","alignItems","to","color","width","height","display","justifyContent","src","alt","maxWidth","maxHeight","textOverflow","whiteSpace","overflow","onClick","chains","sortOptions","label","Marketplace","useState","tokens","setTokens","chainFilter","setChainFilter","searchFilter","setSearchFilter","sort","setSort","useParams","contractAddress","userAddress","useContext","options","connectedChainId","search","key","env","envs","TESTNET","getNFTs","then","res","catch","e","log","list","token","initWallet","networkTypes","EVM","setStatusListener","status","substring","length","gap","id","form","onChange","target","marginRight","map","option","placeholder","flexWrap","orderId","getListing","buy","tx","alert","AssetToken","setToken","canList","marketplace","getNFT","preview","contractName","description","attributes","attribute","trait_type","App","path","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"wGAOIA,ECEAA,E,gJCTSC,EAAc,SAACC,EAAOC,GAC/B,OAAQA,EAAOC,MACb,IAAK,aACH,OAAO,2BACFF,GADL,IAEEG,OAAQF,EAAOG,UAEnB,IAAK,eACH,OAAO,2BACFJ,GADL,IAEEK,SAAUJ,EAAOG,UAErB,IAAK,WACH,OAAO,2BACFJ,GADL,IAEEM,KAAML,EAAOG,UAEjB,QACE,OAAOJ,I,QCVTO,EAAe,CACnBC,SAAU,EACVL,OAAU,KACVE,SAAU,KACVC,KAAU,MAONG,EAAY,IAAIC,IAAU,CAC9BC,gBALsB,CACtBC,eAAe,KAOJC,EAAcC,wBAAcP,GAE5BQ,EAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC7B,EAA0BC,qBAAWlB,EAAaQ,GAAlD,mBAAOP,EAAP,KAAckB,EAAd,KAEMC,EAAY,SAAChB,GACjBe,EAAS,CACPhB,KAAS,aACTE,QAASD,KAIPiB,EAAc,SAACf,GACnBa,EAAS,CACPhB,KAAS,eACTE,QAASC,KAIPgB,EAAU,SAACf,GACfY,EAAS,CACPhB,KAAS,WACTE,QAASE,KAIPgB,EAAS,WACb,IAAQhB,EAAmBN,EAAnBM,KAAMD,EAAaL,EAAbK,SACVA,EAASkB,OACXlB,EAASkB,QAEPjB,GAAQA,EAAKkB,iBAAmBlB,EAAKkB,gBAAgBD,OACvDjB,EAAKkB,gBAAgBD,QAEvBJ,EAAU,MACVC,EAAY,MACZC,EAAQ,OAGJI,EAAW,SAACpB,GAChB,IAAMC,EAAO,IAAIoB,IAAKrB,GAYtB,OAVAC,EAAKqB,IAAIC,OAAO,CACdC,QAAS,CACP,CACEC,KAAiB,UACjBC,KAAiB,cACjBC,gBAAiB1B,EAAK2B,MAAMC,gBAK3B5B,GAGH6B,EAAiB,iDAAG,WAAOC,EAAM3B,EAAWH,EAAMD,GAA9B,8EACnBA,EAASgC,GADU,iDAIxBhC,EAASgC,GAAG,QAAZ,gCAAqB,wFACnBf,IADmB,4CAGrBjB,EAASgC,GAAG,kBAAZ,iDAA+B,WAAOC,GAAP,wFACrBnC,EAAWH,EAAXG,OACHmC,EAAS,GAFe,gBAG3BhB,IAH2B,8BAKrBiB,EAAUD,EAAS,GAAGE,cALD,SAMLlC,EAAKqB,IAAIc,WAAWF,GANf,OAMrBG,EANqB,OAQ3BvB,EAAU,2BAAKhB,GAAN,IAAcoC,UAASG,aARL,4CAA/B,uDAWArC,EAASgC,GAAG,eAAZ,iDAA4B,WAAOM,GAAP,4FAClBxC,EAAWH,EAAXG,OADkB,SAEDG,EAAKqB,IAAIgB,UAFR,cAEpBC,EAFoB,gBAGJtC,EAAKqB,IAAIc,WAAWtC,EAAOiC,KAAKG,SAH5B,OAGpBG,EAHoB,OAI1BvB,EAAU,2BACLhB,GADI,IACIwC,QAASC,EAAYF,aALR,2CAA5B,uDAlBwB,2CAAH,4DA4BjBG,EAAcC,sBAAW,gCAAC,wGACxBC,IADwB,2CAE7B,IAEGA,EAAO,iDAAG,mIAEWtC,EAAUsC,UAFrB,cAEN1C,EAFM,OAGZe,EAAYf,GAENC,EAAOmB,EAASpB,GAEtBgB,EAAQf,GAPI,SASWA,EAAKqB,IAAIqB,cATpB,cASNV,EATM,OAWNC,EAAUD,EAAS,GAAGE,cAXhB,UAaUlC,EAAKqB,IAAIgB,UAbnB,eAaNA,EAbM,iBAeUrC,EAAKqB,IAAIc,WAAWF,GAf9B,QAeNG,EAfM,OAmBZvB,EAFMiB,EAAO,CAAEG,UAASI,UAASD,YAIjCP,EAAkBC,EAAM3B,EAAWH,EAAMD,GArB7B,kDAuBZ4C,QAAQC,MAAR,MAvBY,0DAAH,qDAiCb,OANAC,qBAAU,WACJ1C,EAAU2C,gBACZL,MAED,IAGD,cAAClC,EAAYwC,SAAb,CACEC,MAAK,2BACAtD,GADA,IAEH6C,cACAvB,WAJJ,SAOGN,KCxGQuC,EA5CD,SAAC,GAER,IADLC,EACI,EADJA,SAAU1B,EACN,EADMA,KAAM2B,EACZ,EADYA,MAAOC,EACnB,EADmBA,MAAOf,EAC1B,EAD0BA,QAASgB,EACnC,EADmCA,MAAOC,EAC1C,EAD0CA,QAASC,EACnD,EADmDA,OAEjDC,EAAQC,IAAM9B,MAAM+B,cAAcrB,GACxC,OACE,sBACEsB,UAAU,OACVC,MAAO,CACLC,OAAQ,YAAaC,QAAS,OAAQC,OAAQ,OAAQC,WAAY,UAHtE,UAME,eAAC,IAAD,CAAMC,GAAE,iBAAY5B,EAAZ,YAAuBa,EAASjB,QAAhC,YAA2CqB,GAAWM,MAAO,CAAEM,MAAO,SAA9E,UACE,qBAAKN,MAAO,CACVO,MAAgB,QAChBC,OAAgB,QAChBC,QAAgB,OAChBC,eAAgB,SAChBN,WAAgB,UALlB,SAQE,qBAAKO,IAAKpB,EAAOqB,IAAI,GAAGZ,MAAO,CAAEa,SAAU,QAASC,UAAW,aAEjE,oBAAId,MAAO,CACTe,aAAc,WAAYC,WAAY,SAAUC,SAAU,SAAUJ,SAAU,SADhF,SAIGvB,EAAS1B,OAEZ,oBAAIoC,MAAO,CACTe,aAAc,WAAYC,WAAY,SAAUC,SAAU,SAAUJ,SAAU,SADhF,SAIGjD,IAEH,4BAAI4B,IACJ,4BAAII,EAAMhC,UAEZ,gCACE,wBAAQ5B,KAAK,SAASkF,QAASzB,EAA/B,iBACA,wBAAQzD,KAAK,SAASkF,QAASvB,EAA/B,yBJjCFwB,EAAS,CACb,CAAE1C,QAAS,GAAIb,KAAM,OACrB,CAAEa,QAAS,EAAGb,KAAM,YACpB,CAAEa,QAAS,IAAKb,KAAM,WACtB,CAAEa,QAAS,GAAIb,KAAM,OACrB,CAAEa,QAAS,MAAOb,KAAM,aACxB,CAAEa,QAAS,KAAMb,KAAM,aACvB,CAAEa,QAAS,EAAGb,KAAM,YAGhBwD,EAAc,CAClB,CAAEhC,MAAO,cAAeiC,MAAO,mBAC/B,CAAEjC,MAAO,eAAgBiC,MAAO,mBAChC,CAAEjC,MAAO,YAAaiC,MAAO,iBAC7B,CAAEjC,MAAO,YAAaiC,MAAO,6BAC7B,CAAEjC,MAAO,aAAciC,MAAO,6BAC9B,CAAEjC,MAAO,iBAAkBiC,MAAO,sBA+IrBC,EA5IK,WAClB,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAsCF,mBAAS,IAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAwCJ,mBAAS,IAAjD,mBAAOK,EAAP,KAAqBC,EAArB,KACA,EAAwBN,mBAAS,eAAjC,mBAAOO,EAAP,KAAaC,EAAb,KAEA,EAIIC,cAHFC,EADF,EACEA,gBACAxD,EAFF,EAEEA,QACAyD,EAHF,EAGEA,YAGF,EAMIC,qBAAWxF,GALbV,EADF,EACEA,OACAG,EAFF,EAEEA,KAEAuC,GAJF,EAGExC,SAHF,EAIEwC,aAJF,EAKEvB,OAGF6B,qBAAU,WACR,IAAMmD,EAAU,CACdN,OACAG,kBACAI,iBAAkB5D,EAClBJ,QAAkB6D,GAGhBJ,IACFM,EAAQN,KAAOA,GAEbJ,IACFU,EAAQjB,OAAS,CAACO,IAEhBE,IACFQ,EAAQE,OAASV,IAGnBhG,EAAQ,IAAIiE,IAAM,CAAE0C,IAAK,OAAQC,IAAK3C,IAAM4C,KAAKC,WAE3CC,QAAQP,GAASQ,MAAK,SAACC,GAAUpB,EAAUoB,EAAI3E,SAClD4E,OAAM,SAACC,GACNhE,QAAQiE,IAAI,IAAKD,QAEpB,CAACnB,EAAcF,EAAaI,IAE/B,IApEsBzD,EAoEhB4E,EAAI,iDAAG,WAAOC,EAAO1D,GAAd,kFACX5D,EAAMuH,WAAW/G,EAAMyD,IAAMuD,aAAaC,KAC1CzH,EAAM0H,mBACJ,SAACC,GAAD,OAAYxE,QAAQiE,IAAIO,MAHf,SAKL3H,EAAMqH,KAAKC,EAAO,QALb,2CAAH,wDAoBV,OACE,gCACE,iCACIjH,GA3FcoC,EA+FGpC,EAAOoC,QA/FEA,GAAO,UAAOA,EAAQmF,UAAU,EAAG,GAA5B,cAAoCnF,EAAQmF,UAAUnF,EAAQoF,OAAS,EAAGpF,EAAQoF,UA4FnH,wBAAQzH,KAAK,SAASkF,QAASvC,EAA/B,mCAMJ,gCACE,sBAAKqB,MAAO,CAAES,QAAS,OAAQiD,IAAK,MAAOtD,WAAY,UAAvD,UACE,uBAAMxC,KAAK,cAAc+F,GAAG,cAA5B,UACE,wBACEA,GAAG,SACH/F,KAAK,YACLgG,KAAK,cACLC,SAAU,SAACd,GAAD,OAAOpB,EAAeoB,EAAEe,OAAO1E,QACzCY,MAAO,CAAEQ,OAAQ,OAAQD,MAAO,QAASwD,YAAa,QALxD,SAOG5C,EAAO6C,KAAI,SAACpE,GAAD,OACV,wBAA4BR,MAAOQ,EAAMnB,QAAzC,SAAmDmB,EAAMhC,MAA5CgC,EAAMnB,cAIvB,wBACEkF,GAAG,OACH/F,KAAK,eACLgG,KAAK,cACLC,SAAU,SAACd,GAAD,OAAOhB,EAAQgB,EAAEe,OAAO1E,QAClCY,MAAO,CAAEQ,OAAQ,OAAQD,MAAO,QAASwD,YAAa,QALxD,SAOG3C,EAAY4C,KAAI,SAACC,GAAD,OACf,wBAA2B7E,MAAO6E,EAAO7E,MAAzC,SAAiD6E,EAAO5C,OAA3C4C,EAAO7E,YAIxB,uBACEyE,SAAU,SAACd,GAAD,OAAOlB,EAAgBkB,EAAEe,OAAO1E,QAC1C8E,YAAY,SACZlE,MAAO,CAAEQ,OAAQ,OAAQD,MAAO,QAASwD,YAAa,aAIzD9B,GACC,qCACE,kDACA,4BAAIA,OAIPC,GACC,qCACE,+CACA,4BAAIA,UAKV,qBAAKlC,MAAO,CAAES,QAAS,OAAQ0D,SAAU,QAAzC,SACG3C,EAAOwC,KAAI,SAACd,GAAD,OACV,cAAC,EAAD,2BACMA,GADN,IAEEzD,MAAO,kBA3EN2E,EA2EgBlB,EAAMkB,aA1EjCxI,EAAMyI,WAAWD,GAASxB,KAA1B,iDAA+B,WAAOC,GAAP,2EAC7BjH,EAAMuH,WAAW/G,EAAMyD,IAAMuD,aAAaC,KAC1CzH,EAAM0H,mBACJ,SAACC,GAAD,OAAYxE,QAAQiE,IAAIO,MAE1B3H,EAAM0I,IAAIzB,EAAI3E,MAAM0E,MAAK,SAAA2B,GACvBxF,QAAQiE,IAAI,cACXF,OAAM,SAAAC,GAAC,OAAIyB,MAAMzB,MAPS,2CAA/B,uDADU,IAACqB,GA4EDzE,OAAQ,kBAAMsD,EAAKC,mBChElBuB,EAnFI,WACjB,MAA8CzC,cAAtCC,EAAR,EAAQA,gBAAiBxD,EAAzB,EAAyBA,QAASiB,EAAlC,EAAkCA,QAClC,EAA0B6B,mBAAS,IAAnC,mBAAO2B,EAAP,KAAcwB,EAAd,KACA,EAA8BnD,oBAAS,GAAvC,mBAAOoD,EAAP,KACQvI,GADR,KACiB+F,qBAAWxF,GAApBP,MAER6C,qBAAU,YACRrD,EAAQ,IAAIiE,IAAM,CAAE+E,YAAa,OAAQpC,IAAK3C,IAAM4C,KAAKC,WACnDmC,OAAO5C,EAAiBvC,EAASjB,GAASmE,MAAK,SAACC,GACpD6B,EAAS7B,EAAI3E,WAEd,IAEH,IAcM+E,EAAI,iDAAG,WAAOC,EAAO1D,GAAd,kFACX5D,EAAMuH,WAAW/G,EAAMyD,IAAMuD,aAAaC,KAC1CzH,EAAM0H,mBACJ,SAACC,GAAD,OAAYxE,QAAQiE,IAAIO,MAHf,SAKL3H,EAAMqH,KAAKC,EAAO,QALb,2CAAH,wDAQV,OACE,8BAEIA,GACE,qCACE,qBAAKvC,IAAKuC,EAAM4B,QAASlE,IAAKsC,EAAMtF,KAAMoC,MAAO,CAAEa,SAAU,QAASC,UAAW,WACjF,cAAC,IAAD,CAAMT,GAAE,sBAAiB5B,EAAjB,YAA4BwD,GAApC,SACE,6BAAKiB,EAAM6B,iBAEb,6BAAK7B,EAAMtF,OACX,wCAEGsF,EAAM1D,SAET,8CAEG0D,EAAM8B,eAGT,gCACGL,GAAW,wBAAQzD,QAAS+B,EAAMjH,KAAK,SAA5B,kBACZ,wBAAQkF,QA3CR,SAACkD,GACXxI,EAAMyI,WAAWD,GAASxB,KAA1B,iDAA+B,WAAOC,GAAP,kFAC7BjH,EAAMuH,WAAW/G,EAAMyD,IAAMuD,aAAaC,KAC1CzH,EAAM0H,mBACJ,SAACC,GAAD,OAAYxE,QAAQiE,IAAIO,MAHG,SAKvB3H,EAAM0I,IAAIzB,EAAI3E,MALS,2CAA/B,wDA0CgClC,KAAK,SAA3B,iBACA,wBAAQkF,QAlCN,WACZnC,QAAQiE,IAAI,UAiCsBhH,KAAK,SAA7B,sBAGF,8BACGkH,EAAM+B,YACL,qCACE,6CAEE/B,EAAM+B,WAAWjB,KAAI,SAACkB,GAAD,OACnB,gCACGA,EAAUC,WADb,IAGGD,EAAU9F,uBIpDpBgG,EAnBH,kBACV,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,8BAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,4CAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,wCAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,EAAD,YCjBKC,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACH,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,U","file":"static/js/main.00815f02.chunk.js","sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport Nifty from 'nifty-protocol';\nimport { useParams } from 'react-router-dom';\nimport { Web3Context } from '../web3';\nimport Token from './Token';\n\nconst shortenAddress = (address) => address && `${address.substring(0, 5)}...${address.substring(address.length - 4, address.length)}`;\nlet nifty;\n\nconst chains = [\n  { chainId: '', name: 'All' },\n  { chainId: 1, name: 'Ethereum' },\n  { chainId: 137, name: 'Polygon' },\n  { chainId: 56, name: 'BNB' },\n  { chainId: 43114, name: 'Avalanche' },\n  { chainId: 1285, name: 'Moonriver' },\n  { chainId: 4, name: 'rinkeby' },\n];\n\nconst sortOptions = [\n  { value: 'listed_desc', label: 'Recently Listed' },\n  { value: 'created_desc', label: 'Recently Minted' },\n  { value: 'sold_desc', label: 'Recently Sold' },\n  { value: 'price_asc', label: 'Price (Lowest to highest)' },\n  { value: 'price_desc', label: 'Price (Highest to lowest)' },\n  { value: 'last_sell_desc', label: 'Highest Last Sale' },\n];\n\nconst Marketplace = () => {\n  const [tokens, setTokens] = useState([]);\n  const [chainFilter, setChainFilter] = useState('');\n  const [searchFilter, setSearchFilter] = useState('');\n  const [sort, setSort] = useState('listed_desc');\n\n  const {\n    contractAddress,\n    chainId,\n    userAddress,\n  } = useParams();\n\n  const {\n    wallet,\n    web3,\n    provider,\n    connectWeb3,\n    logout,\n  } = useContext(Web3Context);\n\n  useEffect(() => {\n    const options = {\n      sort,\n      contractAddress,\n      connectedChainId: chainId,\n      address         : userAddress,\n    };\n\n    if (sort) {\n      options.sort = sort;\n    }\n    if (chainFilter) {\n      options.chains = [chainFilter];\n    }\n    if (searchFilter) {\n      options.search = searchFilter;\n    }\n\n    nifty = new Nifty({ key: 'test', env: Nifty.envs.TESTNET });\n\n    nifty.getNFTs(options).then((res) => { setTokens(res.data); })\n      .catch((e) => {\n        console.log('e', e);\n      });\n  }, [searchFilter, chainFilter, sort]);\n\n  const list = async (token, price) => {\n    nifty.initWallet(web3, Nifty.networkTypes.EVM);\n    nifty.setStatusListener(\n      (status) => console.log(status),\n    );\n    await nifty.list(token, '0.01');\n  };\n\n  const buy = (orderId) => {\n    nifty.getListing(orderId).then(async (res) => {\n      nifty.initWallet(web3, Nifty.networkTypes.EVM);\n      nifty.setStatusListener(\n        (status) => console.log(status),\n      );\n      nifty.buy(res.data).then(tx => {\n        console.log('Bought!');\n      }).catch(e => alert(e));\n    });\n  };\n\n  return (\n    <div>\n      <header>\n        {!wallet ? (\n          <button type=\"button\" onClick={connectWeb3}>\n            Connect to MetaMask\n          </button>\n        ) : shortenAddress(wallet.address)}\n      </header>\n\n      <div>\n        <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n          <form name=\"marketplace\" id=\"marketplace\">\n            <select\n              id=\"chains\"\n              name=\"chainList\"\n              form=\"marketplace\"\n              onChange={(e) => setChainFilter(e.target.value)}\n              style={{ height: '30px', width: '200px', marginRight: '10px' }}\n            >\n              {chains.map((chain) => (\n                <option key={chain.chainId} value={chain.chainId}>{chain.name}</option>\n              ))}\n            </select>\n\n            <select\n              id=\"sort\"\n              name=\"sort options\"\n              form=\"marketplace\"\n              onChange={(e) => setSort(e.target.value)}\n              style={{ height: '30px', width: '200px', marginRight: '10px' }}\n            >\n              {sortOptions.map((option) => (\n                <option key={option.value} value={option.value}>{option.label}</option>\n              ))}\n            </select>\n\n            <input\n              onChange={(e) => setSearchFilter(e.target.value)}\n              placeholder=\"Search\"\n              style={{ height: '30px', width: '200px', marginRight: '10px' }}\n            />\n          </form>\n\n          {contractAddress && (\n            <>\n              <p>Contact Address: </p>\n              <p>{contractAddress}</p>\n            </>\n          )}\n\n          {userAddress && (\n            <>\n              <p>User Address :</p>\n              <p>{userAddress}</p>\n            </>\n          )}\n        </div>\n\n        <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n          {tokens.map((token) => (\n            <Token\n              {...token}\n              onBuy={() => buy(token.orderId)}\n              onList={() => list(token)}\n            />\n          ))}\n        </div>\n      </div>\n\n    </div>\n  );\n};\n\nexport default Marketplace;\n","import {\n  Link,\n  useParams,\n} from 'react-router-dom';\nimport Nifty from 'nifty-protocol';\n\nimport { useContext, useEffect, useState } from 'react';\nimport { Web3Context } from '../web3';\n\nlet nifty;\n\nconst AssetToken = () => {\n  const { contractAddress, chainId, tokenID } = useParams();\n  const [token, setToken] = useState([]);\n  const [canList, setCanList] = useState(false);\n  const { web3 } = useContext(Web3Context);\n\n  useEffect(() => {\n    nifty = new Nifty({ marketplace: 'test', env: Nifty.envs.TESTNET });\n    nifty.getNFT(contractAddress, tokenID, chainId).then((res) => {\n      setToken(res.data);\n    });\n  }, []);\n\n  const buy = (orderId) => {\n    nifty.getListing(orderId).then(async (res) => {\n      nifty.initWallet(web3, Nifty.networkTypes.EVM);\n      nifty.setStatusListener(\n        (status) => console.log(status),\n      );\n      await nifty.buy(res.data);\n    });\n  };\n\n  const offer = () => {\n    console.log('offer');\n  };\n\n  const list = async (token, price) => {\n    nifty.initWallet(web3, Nifty.networkTypes.EVM);\n    nifty.setStatusListener(\n      (status) => console.log(status),\n    );\n    await nifty.list(token, '0.01');\n  };\n\n  return (\n    <div>\n      {\n        token && (\n          <>\n            <img src={token.preview} alt={token.name} style={{ maxWidth: '300px', maxHeight: '300px' }} />\n            <Link to={`/collection/${chainId}/${contractAddress}`}>\n              <h1>{token.contractName}</h1>\n            </Link>\n            <h2>{token.name}</h2>\n            <h3>\n              Price:\n              {token.price}\n            </h3>\n            <h5>\n              Description:\n              {token.description}\n            </h5>\n\n            <div>\n              {canList && <button onClick={list} type=\"button\">List</button>}\n              <button onClick={buy} type=\"button\">Buy</button>\n              <button onClick={offer} type=\"button\">Offer</button>\n            </div>\n\n            <div>\n              {token.attributes && (\n                <>\n                  <h2>Attributes:</h2>\n                  {\n                    token.attributes.map((attribute) => (\n                      <div>\n                        {attribute.trait_type}\n                        :\n                        {attribute.value}\n                      </div>\n                    ))\n                }\n                </>\n              )}\n            </div>\n          </>\n        )\n}\n    </div>\n  );\n};\n\nexport default AssetToken;\n","export const Web3Reducer = (state, action) => {\n    switch (action.type) {\n      case \"SET_WALLET\":\n        return {\n          ...state,\n          wallet: action.payload,\n        };\n      case \"SET_PROVIDER\":\n        return {\n          ...state,\n          provider: action.payload,\n        };\n      case \"SET_WEB3\":\n        return {\n          ...state,\n          web3: action.payload,\n        };\n      default:\n        return state;\n    }\n  };","import {\n  createContext, useCallback, useReducer, useEffect,\n} from 'react';\nimport Web3 from 'web3';\nimport Web3Modal from 'web3modal';\n\nimport { Web3Reducer } from './reducer';\n\nconst initialState = {\n  loading : false,\n  wallet  : null,\n  provider: null,\n  web3    : null,\n};\n\nconst providerOptions = {\n  cacheProvider: true, // optional\n};\n\nconst web3Modal = new Web3Modal({\n  providerOptions,\n});\n\nexport const Web3Context = createContext(initialState);\n\nexport const Web3Provider = ({ children }) => {\n  const [state, dispatch] = useReducer(Web3Reducer, initialState);\n\n  const setWallet = (wallet) => {\n    dispatch({\n      type   : 'SET_WALLET',\n      payload: wallet,\n    });\n  };\n\n  const setProvider = (provider) => {\n    dispatch({\n      type   : 'SET_PROVIDER',\n      payload: provider,\n    });\n  };\n\n  const setWeb3 = (web3) => {\n    dispatch({\n      type   : 'SET_WEB3',\n      payload: web3,\n    });\n  };\n\n  const logout = () => {\n    const { web3, provider } = state;\n    if (provider.close) {\n      provider.close();\n    }\n    if (web3 && web3.currentProvider && web3.currentProvider.close) {\n      web3.currentProvider.close();\n    }\n    setWallet(null);\n    setProvider(null);\n    setWeb3(null);\n  };\n\n  const initWeb3 = (provider) => {\n    const web3 = new Web3(provider);\n\n    web3.eth.extend({\n      methods: [\n        {\n          name           : 'chainId',\n          call           : 'eth_chainId',\n          outputFormatter: web3.utils.hexToNumber,\n        },\n      ],\n    });\n\n    return web3;\n  };\n\n  const subscribeProvider = async (data, web3Modal, web3, provider) => {\n    if (!provider.on) {\n      return;\n    }\n    provider.on('close', async () => {\n      logout();\n    });\n    provider.on('accountsChanged', async (accounts) => {\n      const { wallet } = state;\n      if (!accounts[0]) {\n        logout();\n      } else {\n        const address = accounts[0].toLowerCase();\n        const balance = await web3.eth.getBalance(address);\n\n        setWallet({ ...wallet, address, balance });\n      }\n    });\n    provider.on('chainChanged', async (chainId) => {\n      const { wallet } = state;\n      const newChainId = await web3.eth.chainId();\n      const balance = await web3.eth.getBalance(wallet.data.address);\n      setWallet({\n        ...wallet, chainId: newChainId, balance,\n      });\n    });\n  };\n\n  const connectWeb3 = useCallback(async () => {\n    await connect();\n  }, []);\n\n  const connect = async () => {\n    try {\n      const provider = await web3Modal.connect();\n      setProvider(provider);\n\n      const web3 = initWeb3(provider);\n\n      setWeb3(web3);\n\n      const accounts = await web3.eth.getAccounts();\n\n      const address = accounts[0].toLowerCase();\n\n      const chainId = await web3.eth.chainId();\n\n      const balance = await web3.eth.getBalance(address);\n\n      const data = { address, chainId, balance };\n\n      setWallet(data);\n\n      subscribeProvider(data, web3Modal, web3, provider);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  useEffect(() => {\n    if (web3Modal.cachedProvider) {\n      connect();\n    }\n  }, []);\n\n  return (\n    <Web3Context.Provider\n      value={{\n        ...state,\n        connectWeb3,\n        logout,\n      }}\n    >\n      {children}\n    </Web3Context.Provider>\n  );\n};\n","import { Link } from 'react-router-dom';\nimport Nifty from 'nifty-protocol';\n\nconst Token = ({\n  contract, name, thumb, price, chainId, onBuy, tokenID, onList,\n}) => {\n  const chain = Nifty.utils.findChainById(chainId);\n  return (\n    <div\n      className=\"item\"\n      style={{\n        border: '1px solid', padding: '10px', margin: '10px', alignItems: 'center',\n      }}\n    >\n      <Link to={`/token/${chainId}/${contract.address}/${tokenID}`} style={{ color: 'black' }}>\n        <div style={{\n          width         : '200px',\n          height        : '200px',\n          display       : 'flex',\n          justifyContent: 'center',\n          alignItems    : 'center',\n        }}\n        >\n          <img src={thumb} alt=\"\" style={{ maxWidth: '200px', maxHeight: '200px' }} />\n        </div>\n        <h3 style={{\n          textOverflow: 'ellipsis', whiteSpace: 'nowrap', overflow: 'hidden', maxWidth: '200px',\n        }}\n        >\n          {contract.name}\n        </h3>\n        <h5 style={{\n          textOverflow: 'ellipsis', whiteSpace: 'nowrap', overflow: 'hidden', maxWidth: '200px',\n        }}\n        >\n          {name}\n        </h5>\n        <p>{price}</p>\n        <p>{chain.name}</p>\n      </Link>\n      <div>\n        <button type=\"button\" onClick={onBuy}>Buy</button>\n        <button type=\"button\" onClick={onList}>List</button>\n      </div>\n    </div>\n  );\n};\nexport default Token;\n","import './style.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport Marketplace from './components/Marketplace';\nimport AssetToken from './components/AssetToken';\n\nconst App = () => (\n  <Router>\n    <Switch>\n      <Route path=\"/user/:chainId/:userAddress\">\n        <Marketplace />\n      </Route>\n      <Route path=\"/token/:chainId/:contractAddress/:tokenID\">\n        <AssetToken />\n      </Route>\n      <Route path=\"/collection/:chainId/:contractAddress\">\n        <Marketplace />\n      </Route>\n      <Route path=\"/\">\n        <Marketplace />\n      </Route>\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport { Web3Provider } from './web3';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <Web3Provider>\n      <App />\n    </Web3Provider>\n  </React.StrictMode>,\n);\n"],"sourceRoot":""}